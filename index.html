<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Download Page as Image or PDF</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <script src="https://cdn.jsdelivr.net/npm/html2canvas"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
  </head>
  <body class="container py-5">
    <h2 class="mb-4">Select Options</h2>

    <div class="mb-3">
      <label class="form-label">Choose an option:</label>
      <select class="form-select">
        <option value="img1">Option 1</option>
        <option value="img2">Option 2</option>
        <option value="img3">Option 3</option>
      </select>
      <img
        id="selectedImage"
        src="https://via.placeholder.com/150"
        class="mt-3 d-block"
        alt="Selected"
      />
    </div>

    <button class="btn btn-primary" onclick="downloadAsImage()">
      Download as Image
    </button>
    <button class="btn btn-secondary" onclick="downloadAsPDF()">
      Download as PDF
    </button>

    <script>
      function downloadAsImage() {
          html2canvas(document.body).then(canvas => {
              let link = document.createElement('a');
              link.href = canvas.toDataURL("image/png");
              link.download = 'page_screenshot.png';
              link.click();
          });
      }

      function downloadAsPDF() {
          const {{ jsPDF }} = window.jspdf;
          html2canvas(document.body).then(canvas => {
              let pdf = new jsPDF();
              pdf.addImage(canvas.toDataURL("image/png"), 'PNG', 10, 10, 190, 0);
              pdf.save('page_screenshot.pdf');
          });
      }
    </script>
  </body>
</html>
